
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>lyyyuna 的小花园: Robot Framework 新版教程 - 创建测试套件</title>
    
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  table {
      border-collapse: collapse;
      width: 100%;
  }
  th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
  }
  th {
      background-color: #f2f2f2;
  }
  
  .icp {
    margin: 10px 0;
    width: 100%;
    height: 36px;
    white-space: pre;
    text-align: center;
    color: gray;
    z-index: 1000;
  }
  body {
    padding: 0;
    margin: 0;
    font-size: 112.5%;
    font-family: serif;
  }
  @media print {
    img {page-break-inside: avoid;}
    div.nosplit {page-break-inside: avoid;}
  }
  img {
    width: 100%;
  }
  img.center {
    display: block;
    margin: 0 auto;
  }
  img.resizable {
    max-width: 100%;
    height: auto;
  }
  p code, li code {
    font-size: 14px;
    word-wrap: break-word;
    padding: 2px 4px;
    border-radius: 4px;
    margin: 0 2px;
    color: #1e6bb8;
    background-color: rgba(27,31,35,.05);
    font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;
    word-break: break-all;
  }
  strong {
    font-weight: bold;
    color: darkred;
  }
  .pad {
    padding-top: 1em;
    padding-bottom: 1em;
  }
  a.anchor, a.back, a.footnote {
    color: black !important;
    text-decoration: none !important;
  }
  a.back {
    font-size: 50%;
  }
  @media print {
    a.back {display: none;}
  }
  .header {
    height: 1.25em;
    background-color: #dff;
    margin: 0;
    padding: 0.1em 0.1em 0.2em;
    border-top: 1px solid black;
    border-bottom: 1px solid #8ff;
  }
  .header h3 {
    margin: 0;
    padding: 0 2em;
    display: inline-block;
    padding-right: 2em;
    font-style: italic;
    font-size: 90%;
  }
  .rss {
    float: right;
    padding-top: 0.2em;
    padding-right: 2em;
    display: none;
  }
  .toc {
    margin-top: 2em;
  }
  .toc-title {
    font-family: cursive, serif;
    font-style: italic;
    font-size: 300%;
    line-height: 83%;
  }
  .toc-subtitle {
    display: block;
    margin-bottom: 1em;
    font-size: 83%;
  }
  @media only screen and (max-width: 550px) { .toc-subtitle { display: none; } }
  .header h3 a {
    color: black;
  }
  .header h4 {
    margin: 0;
    padding: 0;
    display: inline-block;
    font-weight: normal;
    font-size: 83%;
  }
  @media only screen and (max-width: 550px) { .header h4 { display: none; } }
  .main {
    padding: 0 2em;
  }
  @media only screen and (max-width: 479px) { .article { font-size: 120%; } }
  .article h1 {
    text-align: center;
    font-size: 200%;
  }
  .copyright {
    font-size: 83%;
  }
  .subtitle {
      font-size: 65%;
  }
  .normal {
    text-align: center;
    font-size: medium;
    font-weight: normal;
  }
  .when {
    text-align: center;
    font-size: 100%;
    margin: 0;
    padding: 0;
  }
  .when p {
    margin: 0;
    padding: 0;
  }
  .article h2 {
    font-size: 125%;
    padding-top: 0.25em;
  }
  .article h3 {
    font-size: 100%;
  }
  .footer {
    margin-top: 10px;
    font-size: 83%;
    font-family: sans-serif;
  }
  .comments {
    margin-top: 2em;
    background-color: #ffe;
    border-top: 1px solid #aa4;
    border-left: 1px solid #aa4;
    border-right: 1px solid #aa4;
  }
  .comments-header {
    padding: 0 5px 0 5px;
  }
  .comments-header p {
    padding: 0;
    margin: 3px 0 0 0;
  }
  .comments-body {
    padding: 5px 5px 5px 5px;
  }
  #plus-comments {
    border-bottom: 1px dotted #ccc;
  }
  .plus-comment {
    width: 100%;
    font-size: 14px;
    border-top: 1px dotted #ccc;
  }
  .me {
    background-color: #eec;
  }
  .plus-comment ul {
    margin: 0;
    padding: 0;
    list-style: none;
    width: 100%;
    display: inline-block;
  }
  .comment-when {
    color:#999;
    width:auto;
    padding:0 5px;
  }
  .old {
    font-size: 83%;
  }
  .plus-comment ul li {
    display: inline-block;
    vertical-align: top;
    margin-top: 5px;
    margin-bottom: 5px;
    padding: 0;
  }
  .plus-icon {
    width: 45px;
  }
  .plus-img {
    float: left;
    margin: 4px 4px 4px 4px;
    width: 32px;
    height: 32px;
  }
  .plus-comment p {
    margin: 0;
    padding: 0;
  }
  .plus-clear {
    clear: left;
  }
  .toc-when {
    font-size: 83%;
    color: #999;
  }
  .toc {
    list-style: none;
  }
  .toc li {
    margin-bottom: 0.5em;
  }
  .toc-head {
    margin-bottom: 1em !important;
    font-size: 117%;
  }
  .toc-summary {
    margin-left: 2em;
  }
  .post-summary {
    text-align: center;
    color: #666;
    font-style: italic;
    margin: 0.5em 0 1.5em;
  }
  .favorite {
    font-weight: bold;
  }
  .article p, .article ol {
    line-height: 144%;
  }
  sup, sub {
    vertical-align: baseline;
    position: relative;
    font-size: 83%;
  }
  sup {
    bottom: 1ex;
  }
  sub {
    top: 0.8ex;
  }

  .main {
    position: relative;
    margin: 0 auto;
    padding: 0;
    width: 900px;
  }
  @media only screen and (min-width: 768px) and (max-width: 959px) { .main { width: 708px; } }
  @media only screen and (min-width: 640px) and (max-width: 767px) { .main { width: 580px; } }
  @media only screen and (min-width: 480px) and (max-width: 639px) { .main { width: 420px; } }
  @media only screen and (max-width: 479px) { .main { width: 90%; } }

  .pager {display: flex;margin-bottom: 20px}
  .pager:last-of-type {margin-top: 50px;}

  .pager span, .pager   a {flex: 50%;line-height:50px;}
  .pager a {color: var(--pager-fg); padding: 0 10px; border-radius: 4px; border: 1px solid #ccc; text-decoration: none; }
  .pager a:hover{background: var(--pager-hover); border-color: #bbb;}
  .pager .prev {margin-right: 10px;}
  .pager a.prev:not(:empty):before{content: '« '}
  .pager a.next:not(:empty):after{content: ' »'}
  .pager .next {text-align: right;margin-left: 10px}

</style>
<link rel="stylesheet" href="/libs/highlight/styles/a11y-dark.min.css">
<script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body>
    
<div class="header">
  <h3><a href="/">lyyyuna 的小花园</a></h3>
  <h4>动静中之动,
    by <a href="https://www.lyyyuna.com/about/" rel="author">lyyyuna</a> </h4>
  <a class="rss" href="https://www.lyyyuna.com/feed.atom">RSS</a>
</div>

<div class="main">
  <div class="article">
    <h1>Robot Framework 新版教程 - 创建测试套件
    
    <div class="subtitle">(<i><a href="/series/Robot Framework 7.x 教程/">Robot Framework 7.x 教程</a>, Part 5</i>)</div>
    </h1>
    <div class="normal">
      <div class="when">

          发表于 2025-12

      </div>
    </div>
    
    <p>Robot Framework 的测试用例创建于测试用例文件中，这些文件可以组织到不同的目录中。这些文件和目录共同构成了一个分层的测试套件结构。在创建任务时，这些概念同样适用，但使用的术语有所不同。</p>
<h2>套件文件</h2>
<p>Robot Framework 的测试用例在套件文件（也称为测试用例文件）的测试用例部分中创建。这样的文件会自动将其包含的所有测试用例构成一个测试套件。文件中可以包含的测试用例数量没有上限，但建议少于十个，除非使用数据驱动的方法——在此方法中，一个测试用例仅包含一个高层级的关键字。</p>
<p>在设置部分中，可以使用以下配置来自定义套件：</p>
<ul>
<li>Name：用于设置自定义的套件名称。默认名称基于文件或目录名生成。</li>
<li>Documentation：用于指定套件的说明文档。</li>
<li>Metadata：用于以名称-值对的形式设置自由的套件元数据。</li>
<li>Suite Setup, Suite Teardown：指定套件的初始化和清理操作。</li>
</ul>
<h2>套件目录</h2>
<p>测试用例文件可以按目录组织，这些目录会形成更高级别的测试套件。由目录创建的测试套件本身不能直接包含任何测试用例，而是包含其他带有测试用例的套件。这些目录还可以进一步放入其他目录中，从而形成更高级别的套件。目录结构没有限制，因此可以根据需要灵活组织测试用例。</p>
<p>当执行一个测试目录时，会递归处理其中的文件和目录，具体规则如下：</p>
<ul>
<li>名称以点号（<code>.</code>）或下划线（<code>_</code>）开头的文件和目录将被忽略。</li>
<li>名为 CVS 的目录将被忽略（区分大小写）。</li>
<li>支持格式的文件会被处理。</li>
<li>其他文件将被忽略。</li>
</ul>
<p>如果被处理的文件或目录中未包含任何测试用例，系统会静默忽略（仅向系统日志写入一条消息），并继续执行后续处理。</p>
<h3>套件初始化文件</h3>
<p>通过目录创建的测试套件可以拥有与通过测试用例文件创建的套件类似的设置。由于目录本身无法包含这类信息，因此必须将其放置在一个特殊的测试套件初始化文件中。初始化文件的名称必须始终采用 <code>__init__.ext</code> 格式，其中扩展名必须是支持的测试文件格式之一（通常是 <code>__init__.robot</code>）。该命名格式借鉴自 Python，在这种命名方式下，文件表示该目录是一个模块。</p>
<p>从 Robot Framework 6.1 开始，也可以通过提供多个路径，在开始测试执行时为自动创建的套件定义一个套件初始化文件。</p>
<p>初始化文件的结构和语法与测试用例文件相同，但它们不能包含测试用例部分，并且不支持所有设置。在初始化文件中创建或导入的变量和关键字，在较低层级的测试套件中不可用。如果需要共享变量或关键字，可以将它们放入资源文件中，该资源文件既可以被初始化文件导入，也可以被测试用例文件导入。</p>
<p>初始化文件的主要用途是类似于套件文件，指定与测试套件相关的设置，但也可以设置一些与测试用例相关的设置。以下将说明如何在初始化文件中使用不同的设置。</p>
<ul>
<li><code>Name</code>, <code>Documentation</code>, <code>Metadata</code>, <code>Suite Setup</code>, <code>Suite Teardown</code>。这些套件专有的设置在套件初始化文件中的使用方式与在套件文件中完全相同。</li>
<li><code>Test Tags</code>。指定的标签会无条件地递归设置到此目录包含的所有套件文件中的所有测试中。此功能为 Robot Framework 6.1 的新增特性。在旧版本中需要使用已弃用的 <code>Force Tags</code> 设置。</li>
<li><code>Test Setup</code>, <code>Test Teardown</code>, <code>Test Timeout</code>。为此目录包含的所有测试用例设置测试初始化/清理或测试超时的默认值。可在更低层级中覆盖此设置。请注意，用作初始化和清理的关键字必须在用到它们的测试用例文件中可用，仅在初始化文件中定义关键字是不够的。</li>
<li><code>Task Setup</code>, <code>Task Teardown</code>, <code>Task Tags</code>, <code>Task Timeout</code>。分别为 <code>Test Setup</code>、<code>Test Teardown</code>、<code>Test Tags</code> 和 <code>Test Timeout</code> 的别名，可用于创建任务（而非测试）时。</li>
<li><code>Default Tags</code>, <code>Test Template</code>。初始化文件中不支持这些设置。</li>
</ul>
<pre><code class="language-markdown">*** Settings ***
Documentation    Example suite
Suite Setup      Do Something    ${MESSAGE}
Test Tags        example
Library          SomeLibrary

*** Variables ***
${MESSAGE}       Hello, world!

*** Keywords ***
Do Something
    [Arguments]    ${args}
    Some Keyword    ${arg}
    Another Keyword
</code></pre>
<h2>套件名称</h2>
<p>默认情况下，测试套件的名称基于文件或目录的名称生成。生成规则为：忽略扩展名，将可能存在的下划线替换为空格，并将完全小写的名称转换为首字母大写形式。例如，<code>some_tests.robot</code> 会变为 <strong>Some Tests</strong>，<code>My_test_directory</code> 会变为 <strong>My test directory</strong>。</p>
<p>文件或目录名可以包含一个前缀，用于控制套件的执行顺序。前缀与基本名称之间由两个下划线分隔。在构建实际的测试套件名称时，前缀及下划线均会被移除。例如，文件 <code>01__some_tests.robot</code> 和 <code>02__more_tests.robot</code> 会分别创建测试套件 <strong>Some Tests</strong> 和 <strong>More Tests</strong>，且前者会先于后者执行。</p>
<p>从 Robot Framework 6.1 开始，还可以通过在设置区（Setting section）使用 <strong>Name</strong> 设置项来为套件指定自定义名称：</p>
<pre><code class="language-markdown">*** Settings ***
Name            Custom suite name
</code></pre>
<p>顶层套件的名称可以通过命令行中的 <code>--name</code> 选项进行覆盖。</p>
<h2>套件文档</h2>
<p>测试套件的文档通过 Settings 部分中的 <strong>Documentation</strong> 设置项进行设置。该设置项既可用于套件文件，也可用于套件初始化文件。套件文档在显示位置和创建方式上与测试用例文档具有完全相同的特性。有关语法的详细信息，请参阅<a href="https://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#documentation-formatting">文档格式化附录</a>。</p>
<pre><code class="language-markdown">*** Settings ***
Documentation    An example suite documentation with *some* _formatting_.
...              Long documentation can be split into multiple lines.
</code></pre>
<p>顶层套件的文档可以通过命令行中的 <code>--doc</code> 选项进行覆盖。</p>
<h2>测试套件的自由元数据</h2>
<p>除了文档之外，测试套件还可以拥有自由元数据。这些元数据在 Settings 部分通过 <strong>Metadata</strong> 设置项以“名称-值”对的形式进行定义，其展示方式与文档类似，会在报告和日志中呈现。</p>
<p>元数据的名称是提供给 <strong>Metadata</strong> 设置项的第一个参数，其余参数则指定其值。元数据的值处理方式与文档类似，这意味着它支持 HTML 格式和变量，并且较长的值可以拆分成多行。</p>
<pre><code class="language-makrdown">*** Settings ***
Metadata        Version            2.0
Metadata        Robot Framework    http://robotframework.org
Metadata        Platform           ${PLATFORM}
Metadata        Longer Value
...             Longer metadata values can be split into multiple
...             rows. Also *simple* _formatting_ is supported.
</code></pre>
<p>顶层套件的自由元数据可以通过命令行中的 <code>--metadata</code> 选项进行设置。</p>
<h2>套件的初始化和清理</h2>
<p>不仅测试用例可以设置初始化和清理，测试套件同样可以拥有初始化和清理步骤。套件初始化 会在执行该套件内任何测试用例或子测试套件之前运行，而 套件清理 则在它们之后执行。所有测试套件均可设置初始化和清理；对于通过目录创建的套件，必须在套件初始化文件中进行配置。</p>
<p>与测试用例类似，套件的初始化和清理也是关键字，并且可以接受参数。它们分别在 Settings 部分通过 <code>Suite Setup</code> 和 <code>Suite Teardown</code> 设置项进行定义。关键字名称及可能的参数位于设置名称之后的列中。</p>
<p>如果套件初始化失败，则该套件及其所有子套件中的所有测试用例将立即被标记为失败状态，并且实际不会被执行。这使得套件初始化非常适合用于检查运行测试用例前必须满足的前提条件。</p>
<p>套件清理通常用于在所有测试用例执行完毕后进行清理工作。即使同一套件的初始化失败，清理步骤仍会执行。如果套件清理失败，则无论测试用例的原始执行状态如何，套件中的所有测试用例都将被标记为失败。需要注意的是，即使套件清理中的某个关键字执行失败，后续的所有关键字仍会继续执行。</p>
<p>作为初始化或清理执行的关键字名称可以是变量。这使得可以通过命令行将关键字名称作为变量传入，从而实现在不同环境下使用不同的初始化或清理步骤。</p>

  </div>

    
    <div class="pager">

      
        <a class="prev" href="/2025/12/18/robotframework-new-tutorial-create-tasks/">
          Robot Framework 新版教程 - 创建任务
        </a>
      

      

    </div>
    
  <div class="icp"> lyyyuna <a href="https://beian.miit.gov.cn/" target="_blank" rel="nofollow">沪ICP备2025110782号-1</a></div>
</div>



<div id="stats" class="icp"></div> <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-1G7RNXMWQX"></script> <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1G7RNXMWQX');
</script> <script async src="https://analytics.lyyyuna.com/v1/stats.js"></script>


</body>
</html>
